<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Showcase - Angular App</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/7.8.1/rxjs.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/zone.js/0.14.2/zone.min.js"></script>
  <script type="importmap">
    {
      "imports": {
        "@angular/core": "https://cdnjs.cloudflare.com/ajax/libs/angular/17.1.0/core.min.js",
        "@angular/common": "https://cdnjs.cloudflare.com/ajax/libs/angular/17.1.0/common.min.js",
        "@angular/platform-browser": "https://cdnjs.cloudflare.com/ajax/libs/angular/17.1.0/platform-browser.min.js",
        "@angular/platform-browser-dynamic": "https://cdnjs.cloudflare.com/ajax/libs/angular/17.1.0/platform-browser-dynamic.min.js",
        "@angular/common/http": "https://cdnjs.cloudflare.com/ajax/libs/angular/17.1.0/common-http.min.js"
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
    }

    .app-container {
      min-height: 100vh;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
    }

    .app-header {
      text-align: center;
      margin-bottom: 40px;
      color: white;
    }

    .app-header h1 {
      font-size: 3rem;
      margin: 0 0 10px 0;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .app-header p {
      font-size: 1.2rem;
      opacity: 0.9;
      margin: 0;
    }

    .filter-nav {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 40px;
    }

    .filter-btn {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      text-transform: capitalize;
      backdrop-filter: blur(10px);
    }

    .filter-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    .filter-btn.active {
      background: white;
      color: #667eea;
      border-color: white;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 10px;
    }

    .product-card {
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .product-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .product-image-container {
      position: relative;
      width: 100%;
      height: 200px;
      overflow: hidden;
      background: #f8f9fa;
    }

    .product-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .product-card:hover .product-image {
      transform: scale(1.05);
    }

    .product-details {
      padding: 16px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .product-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 12px 0;
      color: #333;
      line-height: 1.4;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2; 
      -webkit-box-orient: vertical;
    }

    .product-price {
      font-size: 18px;
      font-weight: 700;
      color: #2563eb;
      margin-bottom: 12px;
    }

    .product-rating {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .stars {
      display: flex;
      gap: 2px;
    }

    .star {
      color: #ddd;
      font-size: 16px;
      transition: color 0.2s ease;
    }

    .star.filled {
      color: #ffc107;
    }

    .star.half {
      background: linear-gradient(90deg, #ffc107 50%, #ddd 50%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .rating-value {
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }

    .stock-status {
      margin-bottom: 16px;
    }

    .stock-text {
      font-weight: 600;
      font-size: 14px;
    }

    .stock-text.in-stock {
      color: #16a34a;
    }

    .stock-text.out-of-stock {
      color: #dc2626;
    }

    .add-to-cart-btn {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: auto;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-size: 14px;
    }

    .add-to-cart-btn:hover:not(:disabled) {
      background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .add-to-cart-btn:disabled {
      background: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .loading {
      text-align: center;
      color: white;
      padding: 60px 20px;
    }

    .loader {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
      .app-container { padding: 15px; }
      .app-header h1 { font-size: 2.5rem; }
      .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="app-container">
      <header class="app-header">
        <h1>Product Showcase</h1>
        <p>Discover our amazing products and recipes</p>
      </header>

      <nav class="filter-nav">
        <button class="filter-btn active" onclick="filterProducts('all')">All</button>
        <button class="filter-btn" onclick="filterProducts('beauty')">Beauty</button>
        <button class="filter-btn" onclick="filterProducts('fragrances')">Fragrances</button>
        <button class="filter-btn" onclick="filterProducts('furniture')">Furniture</button>
        <button class="filter-btn" onclick="filterProducts('groceries')">Groceries</button>
      </nav>

      <main class="main-content">
        <div class="products-grid" id="products-grid">
          <!-- Products will be dynamically inserted here -->
        </div>
        
        <div class="loading" id="loading">
          <div class="loader"></div>
          <p>Loading products...</p>
        </div>
      </main>
    </div>
  </div>

  <script>
    // Product data from the provided JSON
    const productsData = {
      "products": [
        {
          "id": 1,
          "title": "Essence Mascara Lash Princess",
          "description": "The Essence Mascara Lash Princess is a popular mascara known for its volumizing and lengthening effects. Achieve dramatic lashes with this long-lasting and cruelty-free formula.",
          "category": "beauty",
          "price": 9.99,
          "discountPercentage": 7.17,
          "rating": 4.94,
          "stock": 5,
          "tags": ["beauty", "mascara"],
          "brand": "Essence",
          "sku": "RCH45Q1A",
          "weight": 2,
          "dimensions": {
            "width": 23.17,
            "height": 14.43,
            "depth": 28.01
          },
          "warrantyInformation": "1 month warranty",
          "shippingInformation": "Ships in 1 month",
          "availabilityStatus": "Low Stock",
          "reviews": [
            {
              "rating": 2,
              "comment": "Very unhappy with my purchase!",
              "date": "2024-05-23T08:56:21.618Z",
              "reviewerName": "John Doe",
              "reviewerEmail": "john.doe@x.dummyjson.com"
            },
            {
              "rating": 2,
              "comment": "Not as described!",
              "date": "2024-05-23T08:56:21.618Z",
              "reviewerName": "Nolan Gonzalez",
              "reviewerEmail": "nolan.gonzalez@x.dummyjson.com"
            },
            {
              "rating": 5,
              "comment": "Very satisfied!",
              "date": "2024-05-23T08:56:21.618Z",
              "reviewerName": "Scarlett Wright",
              "reviewerEmail": "scarlett.wright@x.dummyjson.com"
            }
          ],
          "returnPolicy": "30 days return policy",
          "minimumOrderQuantity": 24,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.618Z",
            "updatedAt": "2024-05-23T08:56:21.618Z",
            "barcode": "9164035109868",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/beauty/Essence%20Mascara%20Lash%20Princess/1.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/beauty/Essence%20Mascara%20Lash%20Princess/thumbnail.png"
        },
        {
          "id": 2,
          "title": "Eyeshadow Palette with Mirror",
          "description": "The Eyeshadow Palette with Mirror offers a versatile range of eyeshadow shades for creating stunning eye looks. With a built-in mirror, it's convenient for on-the-go makeup application.",
          "category": "beauty",
          "price": 19.99,
          "discountPercentage": 5.5,
          "rating": 3.28,
          "stock": 44,
          "tags": ["beauty", "eyeshadow"],
          "brand": "Glamour Beauty",
          "sku": "MVCFH27F",
          "weight": 3,
          "dimensions": {
            "width": 12.42,
            "height": 8.63,
            "depth": 29.13
          },
          "warrantyInformation": "1 year warranty",
          "shippingInformation": "Ships in 2 weeks",
          "availabilityStatus": "In Stock",
          "reviews": [],
          "returnPolicy": "30 days return policy",
          "minimumOrderQuantity": 32,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.618Z",
            "updatedAt": "2024-05-23T08:56:21.618Z",
            "barcode": "2817839095220",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/beauty/Eyeshadow%20Palette%20with%20Mirror/1.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/beauty/Eyeshadow%20Palette%20with%20Mirror/thumbnail.png"
        },
        {
          "id": 6,
          "title": "Calvin Klein CK One",
          "description": "CK One by Calvin Klein is a classic unisex fragrance, known for its fresh and clean scent. It's a versatile fragrance suitable for everyday wear.",
          "category": "fragrances",
          "price": 49.99,
          "discountPercentage": 0.32,
          "rating": 4.85,
          "stock": 17,
          "tags": ["fragrances", "perfumes"],
          "brand": "Calvin Klein",
          "sku": "DZM2JQZE",
          "weight": 5,
          "dimensions": {
            "width": 11.53,
            "height": 14.44,
            "depth": 6.81
          },
          "warrantyInformation": "5 year warranty",
          "shippingInformation": "Ships overnight",
          "availabilityStatus": "In Stock",
          "reviews": [],
          "returnPolicy": "No return policy",
          "minimumOrderQuantity": 20,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.619Z",
            "updatedAt": "2024-05-23T08:56:21.619Z",
            "barcode": "2210136215089",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/fragrances/Calvin%20Klein%20CK%20One/1.png",
            "https://cdn.dummyjson.com/products/images/fragrances/Calvin%20Klein%20CK%20One/2.png",
            "https://cdn.dummyjson.com/products/images/fragrances/Calvin%20Klein%20CK%20One/3.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/fragrances/Calvin%20Klein%20CK%20One/thumbnail.png"
        },
        {
          "id": 11,
          "title": "Annibale Colombo Bed",
          "description": "The Annibale Colombo Bed is a luxurious and elegant bed frame, crafted with high-quality materials for a comfortable and stylish bedroom.",
          "category": "furniture",
          "price": 1899.99,
          "discountPercentage": 0.29,
          "rating": 4.14,
          "stock": 0,
          "tags": ["furniture", "beds"],
          "brand": "Annibale Colombo",
          "sku": "4KMDTZWF",
          "weight": 3,
          "dimensions": {
            "width": 28.75,
            "height": 26.88,
            "depth": 24.47
          },
          "warrantyInformation": "2 year warranty",
          "shippingInformation": "Ships overnight",
          "availabilityStatus": "In Stock",
          "reviews": [],
          "returnPolicy": "7 days return policy",
          "minimumOrderQuantity": 1,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.620Z",
            "updatedAt": "2024-05-23T08:56:21.620Z",
            "barcode": "7113807059215",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/furniture/Annibale%20Colombo%20Bed/1.png",
            "https://cdn.dummyjson.com/products/images/furniture/Annibale%20Colombo%20Bed/2.png",
            "https://cdn.dummyjson.com/products/images/furniture/Annibale%20Colombo%20Bed/3.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/furniture/Annibale%20Colombo%20Bed/thumbnail.png"
        },
        {
          "id": 16,
          "title": "Apple",
          "description": "Fresh and crisp apples, perfect for snacking or incorporating into various recipes.",
          "category": "groceries",
          "price": 1.99,
          "discountPercentage": 1.97,
          "rating": 2.96,
          "stock": 9,
          "tags": ["fruits"],
          "sku": "QTROUV79",
          "weight": 8,
          "dimensions": {
            "width": 8.29,
            "height": 5.58,
            "depth": 12.41
          },
          "warrantyInformation": "2 year warranty",
          "shippingInformation": "Ships in 2 weeks",
          "availabilityStatus": "In Stock",
          "reviews": [],
          "returnPolicy": "60 days return policy",
          "minimumOrderQuantity": 44,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.620Z",
            "updatedAt": "2024-05-23T08:56:21.620Z",
            "barcode": "2517819903837",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/groceries/Apple/1.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/groceries/Apple/thumbnail.png"
        },
        {
          "id": 17,
          "title": "Beef Steak",
          "description": "High-quality beef steak, great for grilling or cooking to your preferred level of doneness.",
          "category": "groceries",
          "price": 12.99,
          "discountPercentage": 17.99,
          "rating": 2.83,
          "stock": 96,
          "tags": ["meat"],
          "sku": "BWWA2MSO",
          "weight": 9,
          "dimensions": {
            "width": 23.35,
            "height": 13.48,
            "depth": 26.4
          },
          "warrantyInformation": "1 month warranty",
          "shippingInformation": "Ships overnight",
          "availabilityStatus": "In Stock",
          "reviews": [],
          "returnPolicy": "90 days return policy",
          "minimumOrderQuantity": 21,
          "meta": {
            "createdAt": "2024-05-23T08:56:21.620Z",
            "updatedAt": "2024-05-23T08:56:21.620Z",
            "barcode": "8335515097879",
            "qrCode": "https://assets.dummyjson.com/public/qr-code.png"
          },
          "images": [
            "https://cdn.dummyjson.com/products/images/groceries/Beef%20Steak/1.png"
          ],
          "thumbnail": "https://cdn.dummyjson.com/products/images/groceries/Beef%20Steak/thumbnail.png"
        }
      ]
    };

    let currentProducts = productsData.products;
    let activeFilter = 'all';

    // Currency formatter for EGP
    function formatCurrency(price) {
      return new Intl.NumberFormat('en-EG', {
        style: 'currency',
        currency: 'EGP',
        minimumFractionDigits: 2
      }).format(price);
    }

    // Generate star rating HTML
    function generateStars(rating) {
      const fullStars = Math.floor(rating);
      const hasHalfStar = rating % 1 >= 0.5;
      let starsHtml = '';
      
      for (let i = 0; i < 5; i++) {
        if (i < fullStars) {
          starsHtml += '<span class="star filled">★</span>';
        } else if (i === fullStars && hasHalfStar) {
          starsHtml += '<span class="star half">★</span>';
        } else {
          starsHtml += '<span class="star">★</span>';
        }
      }
      
      return starsHtml;
    }

    // Handle image load errors
    function handleImageError(img) {
      img.src = 'https://via.placeholder.com/200x200/f3f4f6/9ca3af?text=No+Image';
    }

    // Add to cart function
    function addToCart(productTitle) {
      alert(`${productTitle} added to cart!`);
    }

    // Generate product card HTML
    function createProductCard(product) {
      const stockClass = product.stock > 0 ? 'in-stock' : 'out-of-stock';
      const stockText = product.stock === 0 ? 'Out of Stock' : 'In Stock';
      const isDisabled = product.stock === 0 ? 'disabled' : '';
      
      return `
        <div class="product-card">
          <div class="product-image-container">
            <img 
              src="${product.thumbnail}" 
              alt="${product.title}"
              class="product-image"
              onerror="handleImageError(this)"
            />
          </div>
          
          <div class="product-details">
            <h3 class="product-title">${product.title}</h3>
            
            <div class="product-price">
              ${formatCurrency(product.price)}
            </div>
            
            <div class="product-rating">
              <div class="stars">
                ${generateStars(product.rating)}
              </div>
              <span class="rating-value">(${product.rating})</span>
            </div>
            
            <div class="stock-status">
              <span class="stock-text ${stockClass}">
                ${stockText}
              </span>
            </div>
            
            <button 
              class="add-to-cart-btn"
              ${isDisabled}
              onclick="addToCart('${product.title.replace(/'/g, "\\'")}')"
            >
              Add to Cart
            </button>
          </div>
        </div>
      `;
    }

    // Render products
    function renderProducts(products) {
      const productsGrid = document.getElementById('products-grid');
      const loading = document.getElementById('loading');
      
      if (products.length === 0) {
        productsGrid.innerHTML = `
          <div style="grid-column: 1 / -1; text-align: center; color: white; padding: 60px 20px;">
            <h3>No products found</h3>
            <p>Try selecting a different category or check back later.</p>
          </div>
        `;
      } else {
        productsGrid.innerHTML = products.map(product => createProductCard(product)).join('');
      }
      
      loading.style.display = 'none';
      productsGrid.style.display = 'grid';
    }

    // Filter products by category
    function filterProducts(category) {
      // Update active button
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      activeFilter = category;
      
      if (category === 'all') {
        currentProducts = productsData.products;
      } else {
        currentProducts = productsData.products.filter(product => 
          product.category.toLowerCase() === category.toLowerCase()
        );
      }
      
      renderProducts(currentProducts);
    }

    // Initialize the app
    function initApp() {
      setTimeout(() => {
        renderProducts(currentProducts);
      }, 1000); // Simulate loading delay
    }

    // Start the app when page loads
    document.addEventListener('DOMContentLoaded', initApp);

  </script>
</body>
</html>